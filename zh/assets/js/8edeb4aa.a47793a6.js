"use strict";(globalThis.webpackChunkwegent_docs=globalThis.webpackChunkwegent_docs||[]).push([[24],{8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>d});var s=t(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},8631:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"guides/developer/testing","title":"\u6d4b\u8bd5\u6307\u5357","description":"\u5b66\u4e60\u5982\u4f55\u4e3a Wegent \u7f16\u5199\u548c\u8fd0\u884c\u6d4b\u8bd5\u3002","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/guides/developer/testing.md","sourceDirName":"guides/developer","slug":"/guides/developer/testing","permalink":"/wegent-docs/zh/docs/guides/developer/testing","draft":false,"unlisted":false,"editUrl":"https://github.com/wecode-ai/wegent-docs/edit/main/docs/guides/developer/testing.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"\u5f00\u53d1\u73af\u5883\u8bbe\u7f6e","permalink":"/wegent-docs/zh/docs/guides/developer/setup"},"next":{"title":"\u6570\u636e\u5e93\u8fc1\u79fb","permalink":"/wegent-docs/zh/docs/guides/developer/database-migrations"}}');var i=t(4848),r=t(8453);const l={sidebar_position:2},d="\u6d4b\u8bd5\u6307\u5357",a={},o=[{value:"\u6d4b\u8bd5\u7ed3\u6784",id:"\u6d4b\u8bd5\u7ed3\u6784",level:2},{value:"\u8fd0\u884c\u6d4b\u8bd5",id:"\u8fd0\u884c\u6d4b\u8bd5",level:2},{value:"\u6240\u6709\u6d4b\u8bd5",id:"\u6240\u6709\u6d4b\u8bd5",level:3},{value:"\u4ec5\u5355\u5143\u6d4b\u8bd5",id:"\u4ec5\u5355\u5143\u6d4b\u8bd5",level:3},{value:"\u5e26\u8986\u76d6\u7387",id:"\u5e26\u8986\u76d6\u7387",level:3},{value:"\u7279\u5b9a\u6d4b\u8bd5",id:"\u7279\u5b9a\u6d4b\u8bd5",level:3},{value:"\u7f16\u5199\u6d4b\u8bd5",id:"\u7f16\u5199\u6d4b\u8bd5",level:2},{value:"\u5355\u5143\u6d4b\u8bd5\u793a\u4f8b",id:"\u5355\u5143\u6d4b\u8bd5\u793a\u4f8b",level:3},{value:"\u96c6\u6210\u6d4b\u8bd5\u793a\u4f8b",id:"\u96c6\u6210\u6d4b\u8bd5\u793a\u4f8b",level:3},{value:"Fixtures",id:"fixtures",level:2},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u6d4b\u8bd5\u6307\u5357",children:"\u6d4b\u8bd5\u6307\u5357"})}),"\n",(0,i.jsx)(n.p,{children:"\u5b66\u4e60\u5982\u4f55\u4e3a Wegent \u7f16\u5199\u548c\u8fd0\u884c\u6d4b\u8bd5\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u6d4b\u8bd5\u7ed3\u6784",children:"\u6d4b\u8bd5\u7ed3\u6784"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"tests/\n\u251c\u2500\u2500 unit/           # \u5355\u5143\u6d4b\u8bd5\n\u251c\u2500\u2500 integration/    # \u96c6\u6210\u6d4b\u8bd5\n\u251c\u2500\u2500 e2e/           # \u7aef\u5230\u7aef\u6d4b\u8bd5\n\u2514\u2500\u2500 fixtures/      # \u6d4b\u8bd5 fixtures\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u8fd0\u884c\u6d4b\u8bd5",children:"\u8fd0\u884c\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.h3,{id:"\u6240\u6709\u6d4b\u8bd5",children:"\u6240\u6709\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pytest\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4ec5\u5355\u5143\u6d4b\u8bd5",children:"\u4ec5\u5355\u5143\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pytest tests/unit/\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u5e26\u8986\u76d6\u7387",children:"\u5e26\u8986\u76d6\u7387"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pytest --cov=wegent --cov-report=html\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u7279\u5b9a\u6d4b\u8bd5",children:"\u7279\u5b9a\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pytest tests/unit/test_agent.py::test_create_ghost\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7f16\u5199\u6d4b\u8bd5",children:"\u7f16\u5199\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.h3,{id:"\u5355\u5143\u6d4b\u8bd5\u793a\u4f8b",children:"\u5355\u5143\u6d4b\u8bd5\u793a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import pytest\nfrom wegent.agents import Ghost\n\ndef test_ghost_creation():\n    ghost = Ghost(name="test-ghost")\n    assert ghost.name == "test-ghost"\n    assert ghost.status == "inactive"\n\ndef test_ghost_activation():\n    ghost = Ghost(name="test-ghost")\n    ghost.activate()\n    assert ghost.status == "active"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u96c6\u6210\u6d4b\u8bd5\u793a\u4f8b",children:"\u96c6\u6210\u6d4b\u8bd5\u793a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import pytest\nfrom wegent import Wegent\n\n@pytest.fixture\ndef wegent_app():\n    app = Wegent()\n    yield app\n    app.cleanup()\n\ndef test_full_workflow(wegent_app):\n    agent = wegent_app.create_agent("test-agent")\n    task = wegent_app.create_task("test-task", agent=agent)\n    result = task.run()\n    assert result.success\n'})}),"\n",(0,i.jsx)(n.h2,{id:"fixtures",children:"Fixtures"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528 fixtures \u8fdb\u884c\u901a\u7528\u6d4b\u8bd5\u8bbe\u7f6e\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'@pytest.fixture\ndef sample_config():\n    return {\n        "name": "test-agent",\n        "model": {"provider": "mock"}\n    }\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7f16\u5199\u4e13\u6ce8\u7684\u5355\u4e00\u76ee\u7684\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528\u63cf\u8ff0\u6027\u7684\u6d4b\u8bd5\u540d\u79f0"}),"\n",(0,i.jsx)(n.li,{children:"Mock \u5916\u90e8\u4f9d\u8d56"}),"\n",(0,i.jsx)(n.li,{children:"\u4fdd\u6301\u6d4b\u8bd5\u5feb\u901f\u548c\u9694\u79bb"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);